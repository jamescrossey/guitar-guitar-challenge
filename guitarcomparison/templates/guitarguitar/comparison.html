{% extends 'Guitarguitar/Base.html' %}
{% load static %}

{% block title_block %}
    Compare
{% endblock %}

{% block script_block %}
<script src="{% static 'javascript/comparison.js' %}" defer></script>
{% endblock %}

{% block body_block %}
<div class="header1">
    Compare 2 products
</div>

<div class="compare-button">
    <button id="compare-button" disabled
            class="bg-gray-400 text-white px-4 py-2 rounded cursor-not-allowed">
    Compare Items
    </button>
</div>

<div class="products">
    {% if products%}
        {% for product in products %}
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ product.pictureMain.url }}" alt="{{ product.itemName }}">
                </div>
                <div class="product-info">
                    <h2>{{ product.itemName }}</h2>
                    <div class="rating">
                        {% if product.rating %}
                            <span>Rating: {{ product.rating|floatformat:2 }}</span>
                        {% else %}
                            <span>No ratings yet</span>
                        {% endif %}
                    </div>
                    <p>Price: £{{ product.SalesPrice }}</p>
                    <p>Colour: {{ product.colour }}</p>
                    <p>Body Shape: {{ product.BodyShape }}</p>
                    <p>Quantity in stock: {{ product.qtyInStock }}</p>
                </div>
                <div class="compare-buttons">
                    <button class="compare-select bg-blue-500 text-white px-3 py-1 rounded mt-2"
                        data-sku="{{ product.sku }}">
                        Select for Compare
                    </button>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>No products available for this type.</p><br>
        <p>Here is a list of all our products</p>
        {% for product in guitars %}
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ product.pictureMain.url }}" alt="{{ product.itemName }}">
                </div>
                <div class="product-info">
                    <h2>{{ product.itemName }}</h2>
                    <div class="rating">
                        {% if product.rating %}
                            <span>Rating: {{ product.rating|floatformat:2 }}</span>
                        {% else %}
                            <span>No ratings yet</span>
                        {% endif %}
                    </div>
                    <p>Price: £{{ product.SalesPrice }}</p>
                    <p>Colour: {{ product.colour }}</p>
                    <p>Body Shape: {{ product.BodyShape }}</p>
                    <p>Quantity in stock: {{ product.qtyInStock }}</p>
                </div>
        </div>
        {% endfor %}
    {% endif %}
</div>
{% endblock %}
