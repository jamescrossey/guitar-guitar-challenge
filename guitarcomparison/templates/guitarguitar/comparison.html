{% extends 'guitarguitar/Base.html' %}
{% load static %}

{% block title_block %}
    Compare
{% endblock %}

{% block css_block %}
<link rel="stylesheet" href="{% static 'css/comparison.css' %}">
{% endblock %}

{% block script_block %}
<script src="{% static 'javascript/comparison.js' %}" defer></script>
{% endblock %}

{% block body_block %}
<div class="header1">
    Relevant Guitars
</div>

<div class="compare-button">
    <button id="compare-button" disabled>
    Compare Items
    </button>
</div>

<div class="products">
    {% if products%}
        {% for product in products %}
        <div class="product-card">
            <div class="product-image">
                <img src="{{ product.pictureMain }}" alt="{{ product.itemName }}">
            </div>

            <div class="product-info">
                <h2 class="product-name">{{ product.itemName }}</h2>

                <p><strong>Brand:</strong> {{ product.brandName }}</p>
                <p><strong>Price:</strong> £{{ product.SalesPrice }}</p>

                {% if product.rating %}
                    <p><strong>Rating:</strong> {{ product.rating|floatformat:1 }}</p>
                {% else %}
                    <p><strong>Rating:</strong> No ratings yet</p>
                {% endif %}

                <p><strong>Colour:</strong> {{ product.colour }}</p>
                <p><strong>Body Shape:</strong> {{ product.BodyShape }}</p>
                <p><strong>Stock:</strong> {{ product.qtyInStock }}</p>

                <div class="compare-buttons">
                    <button class="compare-select bg-blue-500 text-white px-3 py-1 rounded mt-2"
                        data-sku="{{ product.sku }}">
                        Select for Compare
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>No products available for this type.</p><br>
        <p>Here is a list of all our products</p>
        {% for product in guitars %}
        <div class="product-card">
            <div class="product-image">
                <img src="{{ product.pictureMain.url }}" alt="{{ product.itemName }}">
            </div>

            <div class="product-info">
                <h2 class="product-name">{{ product.itemName }}</h2>

                <p><strong>Brand:</strong> {{ product.brandName }}</p>
                <p><strong>Price:</strong> £{{ product.SalesPrice }}</p>

                {% if product.rating %}
                    <p><strong>Rating:</strong> {{ product.rating|floatformat:1 }}</p>
                {% else %}
                    <p><strong>Rating:</strong> No ratings yet</p>
                {% endif %}

                <p><strong>Colour:</strong> {{ product.colour }}</p>
                <p><strong>Body Shape:</strong> {{ product.BodyShape }}</p>
                <p><strong>Stock:</strong> {{ product.qtyInStock }}</p>

                <div class="compare-buttons">
                    <button class="compare-select bg-blue-500 text-white px-3 py-1 rounded mt-2"
                        data-sku="{{ product.sku }}">
                        Select for Compare
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    {% endif %}
</div>
{% endblock %}
